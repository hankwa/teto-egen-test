💬 만들고 싶은 앱 설명:

"테토 에겐 남녀 테스트 (Teto·Egen Personality Test)"라는 이름의 웹앱을 만들어줘.

이 앱은 사용자의 얼굴 사진과 자연스러운 심리 설문을 기반으로  
사용자를 세 가지 감성 성향(테토형 / 에겐형 / 테겐형)으로 분류하고,  
AI가 성격적 특징, 관상학적 인상, 동물형(강아지상, 고양이상 등)을 함께 해석해  
풍부하고 감성적인 결과 리포트를 제시하는 서비스야.

---

🧱 전체 구조:

1️⃣ **홈 화면**  
- “테토·에겐 남녀 테스트” 타이틀과 짧은 소개  
- “시작하기” 버튼  

2️⃣ **Step 1. 얼굴 사진 업로드**  
- 사용자가 얼굴 사진 1장을 업로드  
- 브라우저 내부에서 TensorFlow.js + MediaPipe FaceMesh를 사용하여 특징 추출  
  - 눈썹 각도, 입꼬리 곡률, 얼굴 폭·턱선 비율, 눈 간격 등 주요 피처 계산  
  - 사진은 서버로 전송되지 않고 즉시 삭제됨  
- 얼굴 특징 데이터를 JSON으로 생성하고,  
  추가적으로 “동물형 분석” 로직으로 사용자의 인상을 강아지상🐶, 고양이상🐱, 여우상🦊, 토끼상🐰, 곰상🐻, 사슴상🦌 중 하나로 분류

3️⃣ **Step 2. 심리 설문 (간이 MBTI형 + 감정 성향형)**  
- 총 10문항, 2지선다형  
- E/I, S/N, T/F, J/P 같은 용어를 쓰지 않고 자연스러운 문장으로 표현  
예시 문항:  
  1. 누군가와 다툰 뒤, 시간이 지나면 먼저 연락하는 편이다  
  2. 결정을 내려야 할 때, 감정보다 논리를 따진다  
  3. 여행을 준비할 때, 세부 계획을 꼼꼼히 세운다  
  4. 처음 만난 사람의 말투보다 표정에 더 집중한다  
  5. 하루를 마치면 사람들과의 감정이 오래 남는다  
  6. 예상치 못한 변화가 생기면 침착하게 분석한다  
  7. 감정이 복잡할 땐, 일을 하며 잊으려 한다  
  8. 새로운 사람을 만나면 그 사람의 에너지를 느낀다  
  9. 상처받으면 속으로 곱씹기보다 바로 표현한다  
  10. 휴식할 땐 혼자 정리하기보다 사람들과 감정을 나눈다  
- 각 문항의 응답을 바탕으로 emotionScore(0~1)을 계산  
  - 감정형(0.65 이상) → 에겐형  
  - 이성형(0.35 이하) → 테토형  
  - 그 사이 → 테겐형  

4️⃣ **Step 3. 분석 및 결과 생성**  
- 얼굴 분석 JSON + 설문 결과(emotionScore + 주요 비율 + 동물형)를 통합  
- WebLLM(TinyLlama or Qwen) 모델로 프롬프트 전달  
- 로컬 WebGPU 기반 로딩 (서버 호출 없음)  
- “AI 모델 불러오는 중…” 로딩 바 표시 후 결과 생성  

5️⃣ **Step 4. 결과 페이지**  
- 사용자 유형 표시: “🐱 고양이상 테토형”  
- 성격 요약 (3~5문장)  
- 관상학적 특징 (3~5문장)  
- 핵심 키워드 3개 (이모지 포함)  
- 연애 스타일 (1문장)  
- 분위기 한줄 요약  
- SNS 공유 버튼 + 결과 이미지 다운로드 기능  

---

🧠 **WebLLM 구성**

- import: `https://esm.run/webllm`  
- 모델: `"TinyLlama-1.1B-Chat-v0.3"`  
- WebGPU 기반 로컬 추론  
- 캐시 로딩 지원 (오프라인 재사용 가능)  

---

🧾 **WebLLM 프롬프트 (앱 내부 자동 입력 문장):**

당신은 관상학자이자 심리 분석 전문가입니다.
다음 데이터를 바탕으로, 사용자의 인상과 성격을 따뜻하고 서정적인 언어로 설명해주세요.

[입력 데이터 예시]

유형 예측: 테토형 / 에겐형 / 테겐형 중 하나

얼굴 특징: 눈썹 각도, 입꼬리 곡률, 턱선 각도, 얼굴 폭비율, 눈 간격 등

동물형: 강아지상 🐶 / 고양이상 🐱 / 여우상 🦊 / 토끼상 🐰 / 곰상 🐻 / 사슴상 🦌

감성지수: emotionScore (0~1)

설문 요약: “감정에 공감하지만 결정은 이성적으로 내리는 편입니다.” 처럼 1문장 요약

[출력 형식]
1️⃣ 제목: “당신은 [동물형 + 유형명칭]입니다.”
예: “당신은 🐱 고양이상 테토형입니다.”
2️⃣ 성격 요약 (3~5문장): 감성/이성 비율과 인상 기반으로 묘사
3️⃣ 관상학적 특징 (3~5문장): 얼굴 구조, 표정, 눈·입 곡선 등 설명
4️⃣ 키워드 (3개, 이모지 포함): 예) ✨ #통찰력 #잔잔한매력 #균형감각
5️⃣ 연애스타일 (1문장): 예) “배려형 공감러버”
6️⃣ 한줄 요약: “당신의 미소는 부드럽지만 결단력 있는 이성의 향기를 지녔습니다.”

yaml
코드 복사

---

🎨 **디자인 요청**

- 색상: 파스텔 핑크(#FFE6EB) + 화이트 + 라이트 그레이  
- 카드형 결과 디자인  
- 결과 화면에 페이드인 + 슬라이드 애니메이션  
- 모바일 퍼스트 UI (세로형)  
- 결과 카드에 이모지(🐶🐱🐰🦊🦌 등) 포함  
- “결과 공유” 버튼에서 이미지 캡처 및 SNS 공유 지원  

---

💾 **기술 사양**

- Vision: TensorFlow.js + MediaPipe FaceMesh  
- Text: WebLLM (TinyLlama-1.1B-Chat-v0.3)  
- Hosting: Cloudflare Pages (무료)  
- Backend: 없음  
- Storage: 브라우저 캐시(LocalStorage)  
- 개인정보: 얼굴 이미지 및 분석 데이터는 서버로 전송되지 않음  

---

📦 **앱 완성 후 설정**

- GitHub 연동 후 Cloudflare Pages로 자동 배포  
- 반응형 테스트 (iPhone/Android 기준)  
- 첫 로딩 시 모델 캐시 → 이후 오프라인 모드 가능  

---

결과적으로 사용자는 단순히 “테토형”으로 분류되는 것이 아니라,  
자신의 **감성·이성 비율 + 얼굴 인상 + 동물형 캐릭터 + 설문 결과**를 결합한  
세상에 하나뿐인 “AI 심리 관상 리포트”를 받게 돼야 해.